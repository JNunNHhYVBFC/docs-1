---
editable: false
sourcePath: en/_api-ref-grpc/ai/assistants/v1/runs/api-ref/grpc/Run/listen.md
---

# Runs, gRPC: RunService.Listen

Listen to events from a specific run.
If the run was created with `stream = false`, Listen will only respond with the final status of the run
and will not stream partial messages or intermediate events.

## gRPC request

**rpc Listen ([ListenRunRequest](#yandex.cloud.ai.assistants.v1.runs.ListenRunRequest)) returns (stream [StreamEvent](#yandex.cloud.ai.assistants.v1.runs.StreamEvent))**

## ListenRunRequest {#yandex.cloud.ai.assistants.v1.runs.ListenRunRequest}

```json
{
  "run_id": "string",
  "events_start_idx": "google.protobuf.Int64Value"
}
```

Request message for listing to a run events.

#|
||Field | Description ||
|| run_id | **string**

Required field. ID of the run to listen to. ||
|| events_start_idx | **[google.protobuf.Int64Value](https://developers.google.com/protocol-buffers/docs/reference/csharp/class/google/protobuf/well-known-types/int64-value)**

Starting index for events. If provided, listening will start from this event. ||
|#

## StreamEvent {#yandex.cloud.ai.assistants.v1.runs.StreamEvent}

```json
{
  "event_type": "EventType",
  "stream_cursor": {
    "current_event_idx": "int64",
    "num_user_events_received": "int64"
  },
  // Includes only one of the fields `error`, `partial_message`, `completed_message`
  "error": {
    "code": "int64",
    "message": "string"
  },
  "partial_message": {
    "content": [
      {
        // Includes only one of the fields `text`
        "text": {
          "content": "string"
        }
        // end of the list of possible fields
      }
    ]
  },
  "completed_message": {
    "id": "string",
    "thread_id": "string",
    "created_by": "string",
    "created_at": "google.protobuf.Timestamp",
    "author": {
      "id": "string",
      "role": "string"
    },
    "labels": "map<string, string>",
    "content": {
      "content": [
        {
          // Includes only one of the fields `text`
          "text": {
            "content": "string"
          }
          // end of the list of possible fields
        }
      ]
    },
    "status": "MessageStatus"
  }
  // end of the list of possible fields
}
```

Represents an event in the stream of a run.

#|
||Field | Description ||
|| event_type | enum **EventType**

The type of event.

- `EVENT_TYPE_UNSPECIFIED`: Unspecified event type.
- `PARTIAL_MESSAGE`: Partial message is available.
- `ERROR`: Run has failed due to an error.
- `DONE`: The run has completed. ||
|| stream_cursor | **[StreamCursor](#yandex.cloud.ai.assistants.v1.runs.StreamCursor)**

The current position in the stream. ||
|| error | **[Error](#yandex.cloud.ai.common.Error)**

Error information if the run has failed.

Includes only one of the fields `error`, `partial_message`, `completed_message`.

Event data, which can be one of several types. ||
|| partial_message | **[MessageContent](#yandex.cloud.ai.assistants.v1.threads.MessageContent)**

Partially generated message.

Includes only one of the fields `error`, `partial_message`, `completed_message`.

Event data, which can be one of several types. ||
|| completed_message | **[Message](#yandex.cloud.ai.assistants.v1.threads.Message)**

Final message generated by an assistant if a run has completed successfully.

Includes only one of the fields `error`, `partial_message`, `completed_message`.

Event data, which can be one of several types. ||
|#

## StreamCursor {#yandex.cloud.ai.assistants.v1.runs.StreamCursor}

Represents the cursor position in a stream of events.

#|
||Field | Description ||
|| current_event_idx | **int64**

Index of the current event in the stream. ||
|| num_user_events_received | **int64**

The number of user events received so far. ||
|#

## Error {#yandex.cloud.ai.common.Error}

#|
||Field | Description ||
|| code | **int64** ||
|| message | **string** ||
|#

## MessageContent {#yandex.cloud.ai.assistants.v1.threads.MessageContent}

Represents the content of a message, which can consist of multiple parts.

#|
||Field | Description ||
|| content[] | **[ContentPart](#yandex.cloud.ai.assistants.v1.threads.ContentPart)**

A list of content parts that make up the message. ||
|#

## ContentPart {#yandex.cloud.ai.assistants.v1.threads.ContentPart}

ContentPart represents an individual part of the message content, which can be of various types.

#|
||Field | Description ||
|| text | **[Text](#yandex.cloud.ai.assistants.v1.threads.Text)**

Text content of the message part.

Includes only one of the fields `text`.

Specifies the type of content that the part contains. ||
|#

## Text {#yandex.cloud.ai.assistants.v1.threads.Text}

Text represents a textual content part of a message.

#|
||Field | Description ||
|| content | **string**

Text content of the message. ||
|#

## Message {#yandex.cloud.ai.assistants.v1.threads.Message}

#|
||Field | Description ||
|| id | **string**

Unique identifier of the message. ||
|| thread_id | **string**

ID of the thread that this message belongs to. ||
|| created_by | **string**

Identifier of the subject who created this message. ||
|| created_at | **[google.protobuf.Timestamp](https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#timestamp)**

Timestamp representing when the message was created. ||
|| author | **[Author](#yandex.cloud.ai.assistants.v1.threads.Author)**

Author of the message, containing details about the message's creator. ||
|| labels | **object** (map<**string**, **string**>)

Set of key-value pairs that can be used to organize and categorize the message. ||
|| content | **[MessageContent](#yandex.cloud.ai.assistants.v1.threads.MessageContent)**

Content of the message. ||
|| status | enum **MessageStatus**

Status of the message.

- `MESSAGE_STATUS_UNSPECIFIED`: Unspecified message status.
- `COMPLETED`: Message was successfully created by a user or generated by an assistant.
- `TRUNCATED`: Message generation was truncated due to reaching the maximum allowed number of tokens.
- `FILTERED_CONTENT`: Message generation was stopped because potentially sensitive content was detected either in the prompt or in the generated response. ||
|#

## Author {#yandex.cloud.ai.assistants.v1.threads.Author}

Author of the message, containing details about the message's creator.

#|
||Field | Description ||
|| id | **string**

Unique identifier of the author. This could be either the user's ID or the assistant's ID, depending on the role. ||
|| role | **string**

Role of the author, indicating whether the message was created by a "user" or an "assistant". ||
|#